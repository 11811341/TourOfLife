<div class="lesson_page">
  <mat-tab-group id="tab_group" (selectedTabChange)="onTabClick($event.index)">
    <mat-tab label="Intro: GoL">
      <h1>Introduction: Game of Life</h1>
      lol haha intro brrrt
    </mat-tab>

    <mat-tab *ngFor="let tab of lessons; let i = index" label="{{tab.header}}">
      <ng-template matTabContent>
        <h1>{{tab.chapter}}</h1>
        <div class="lessons">
          <mat-card class="lesson_container" [class.mat-elevation-z8]="true" *ngFor="let l of tab.lessons; let idx = index">
            <ng-container *ngIf="l.lesson">
              <div class="renderer" id="{{i+1+'lesson'+idx}}"></div>
              <div class="controls_container">
                <div class="controls">
                  <button mat-icon-button color="primary" matTooltip="Toggle prediction mode"
                          matTooltipPosition="above" (click)="predictionMode(idx)">
                    <mat-icon>
                      visibility
                    </mat-icon>
                  </button>
                  <button mat-icon-button color="primary"
                          matTooltip="Go back by one epoch" matTooltipPosition="above" (click)="revert(idx)">
                    <mat-icon>
                      skip_previous
                    </mat-icon>
                  </button>
                  <button mat-icon-button color="primary" matTooltip="Play/Pause the Game"
                          matTooltipPosition="above" (click)="play(idx)">
                    <mat-icon *ngIf="(idx==0&&!running_a)||(idx==1&&!running_b)">
                      play_arrow
                    </mat-icon>
                    <mat-icon *ngIf="(idx==0&&running_a)||(idx==1&&running_b)">
                      pause
                    </mat-icon>
                  </button>
                  <button mat-icon-button color="primary"
                          matTooltip="Advance the game by one epoch" matTooltipPosition="above"
                          (click)="advance(idx)">
                    <mat-icon>
                      skip_next
                    </mat-icon>
                  </button>
                  <button mat-icon-button color="primary"
                          matTooltip="Reset the board" matTooltipPosition="above"
                          (click)="reset(idx)">
                    <mat-icon>
                      replay
                    </mat-icon>
                  </button>
                </div>
              </div>
              <div class="explanation">
                <h2>{{l.title}}</h2>
                <p>{{l.description}}</p>
              </div>
            </ng-container>
            <ng-container *ngIf="!l.lesson">

            </ng-container>
          </mat-card>
        </div>
      </ng-template>
    </mat-tab>


  </mat-tab-group>
  <!--  <div class="next_prev">-->
  <!--    <button mat-icon-button>-->
  <!--      <mat-icon>keyboard_arrow_left</mat-icon>-->
  <!--    </button>-->
  <!--    <button mat-icon-button>-->
  <!--      <mat-icon>keyboard_arrow_right</mat-icon>-->
  <!--    </button>-->
  <!--  </div>-->
</div>
